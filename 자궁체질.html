<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸¸ìŒí•œì˜ì› ìê¶ì²´ì§ˆ ìê°€ë¬¸ì§„í‘œì™€ ì„­ìƒê°€ì´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .question-group, .results-container, .guide-container { margin-bottom: 1.5rem; padding: 1.5rem; border: 1px solid #e2e8f0; border-radius: 0.5rem; background-color: #f9fafb; }
        .question-title, .results-title, .guide-title { font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #1f2937; }
        .question-item { margin-bottom: 0.75rem; display: flex; align-items: center; }
        .question-item input[type="checkbox"] { margin-right: 0.75rem; width: 1.25rem; height: 1.25rem; border-radius: 0.25rem; border-color: #9ca3af; accent-color: #0d9488; }
        .question-item label { font-weight: 500; color: #374151; flex-grow: 1; }
        .score-item { margin-bottom: 0.5rem; }
        .score-value { font-weight: 600; }
        .grid-container { display: grid; grid-template-columns: 1fr; gap: 0.75rem; }
        @media (min-width: 768px) { .grid-container { grid-template-columns: 1fr 1fr; gap: 1rem; } }
        .guide-section { margin-bottom: 1.5rem; border-bottom: 1px dashed #d1d5db; padding-bottom: 1.5rem; }
        .guide-section:last-child { border-bottom: none; padding-bottom: 0; }
        .guide-section h4 { font-size: 1.1rem; font-weight: 600; color: #0d9488; margin-bottom: 0.5rem; }
        .guide-section .recommend { color: #10b981; }
        .guide-section .caution { color: #ef4444; }
        .guide-section ul { list-style: disc; margin-left: 1.5rem; }
        .warning { background-color: #fffbeb; border-left: 4px solid #f59e0b; padding: 1rem; margin-bottom: 1rem; font-size: 0.9rem; color: #b45309; }
        .my-constitution { font-size: 1.5rem; font-weight: 700; text-align: center; margin-bottom: 1.5rem; padding: 1rem; background-color: #ecfdf5; color: #065f46; border-radius: 0.5rem; }
        .input-field { width: 100%; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 0.375rem; }

        /* @media printëŠ” ë” ì´ìƒ ë©”ì¸ body ìˆ¨ê¸°ê¸°ì— ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. */
        /* ëŒ€ì‹ , ì¸ì‡„ë  ë‚´ìš©ì˜ ìŠ¤íƒ€ì¼ì„ ë” ê¹”ë”í•˜ê²Œ í•©ë‹ˆë‹¤. */
        @media print {
            body {
                background-color: #fff; /* ì¸ì‡„ ì‹œ ë°°ê²½ìƒ‰ í°ìƒ‰ */
                margin: 0;
                padding: 0;
            }
            /* .printable-areaì˜ shadow, border ë“±ì„ ì¸ì‡„ ì‹œ ì œê±° */
            .printable-area {
                box-shadow: none;
                border: none;
                padding: 0;
                margin: 0;
            }
            .results-container, .guide-container {
                border: none; /* ì¸ì‡„ ì‹œ í…Œë‘ë¦¬ ì œê±° */
                background-color: #fff; /* ì¸ì‡„ ì‹œ ë°°ê²½ìƒ‰ í°ìƒ‰ */
                padding: 0; /* ì¸ì‡„ ì‹œ íŒ¨ë”© ì¡°ì ˆ */
            }
            .guide-section {
                page-break-inside: avoid; /* ì„¹ì…˜ì´ í˜ì´ì§€ ì¤‘ê°„ì—ì„œ ëŠì–´ì§€ì§€ ì•Šë„ë¡ */
            }

            /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ ì¶”ê°€ */
            table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 1rem;
                margin-bottom: 1rem; /* Adjust as needed */
            }
            th, td {
                border: 1px solid #ccc;
                padding: 0.75rem;
                text-align: left;
            }
            th {
                background-color: #f2f2f2;
                font-weight: 600;
            }
        }
    </style>
</head>
<body class="bg-gray-100 p-4 md:p-8">

    <div class="printable-area max-w-3xl mx-auto bg-white shadow-lg rounded-lg p-6 md:p-8">
        <header class="mb-8 text-center">
            <img src="images/gilum_logo.png" alt="ê¸¸ìŒí•œì˜ì› ë¡œê³ " class="mx-auto mb-4" style="max-width: 150px;">
            <h1 class="text-3xl font-bold text-teal-600">ê¸¸ìŒí•œì˜ì› ìê¶ì²´ì§ˆ ìê°€ë¬¸ì§„í‘œ</h1>
            <p class="text-gray-600 mt-2">ì•„ë˜ í•­ëª© ì¤‘ í˜„ì¬ í•´ë‹¹ë˜ëŠ” ëª¨ë“  ê³³ì— âœ” ì²´í¬í•´ ì£¼ì„¸ìš”.</p>
        </header>

        <form id="healthChecklistForm">
            <div class="question-group">
                <h2 class="question-title">ê¸°ë³¸ ì •ë³´</h2>
                <div class="mb-4">
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">ì„±í•¨:</label>
                    <input type="text" id="name" name="name" class="input-field">
                </div>
                <div class="mb-4">
                    <label for="ageInput" class="block text-sm font-medium text-gray-700 mb-1">ë‚˜ì´:</label>
                    <input type="number" id="ageInput" name="ageInput" class="input-field">
                </div>
                <div class="mb-4">
                    <label for="dateInput" class="block text-sm font-medium text-gray-700 mb-1">ê²€ì‚¬ ë‚ ì§œ:</label>
                    <input type="date" id="dateInput" name="dateInput" class="input-field">
                </div>
            </div>
            <div class="question-group">
                <h2 class="question-title">ì¦ìƒ ì²´í¬</h2>
                <div class="grid-container"></div>
            </div>
            <button type="submit" class="w-full mt-6 bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition duration-150 ease-in-out">
                ê²°ê³¼ í™•ì¸ ë° ì €ì¥í•˜ê¸°
            </button>
        </form>

        <button id="printResultBtn" class="w-full mt-4 bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition duration-150 ease-in-out hidden">
            ê²°ê³¼ ë° ê°€ì´ë“œ ì¶œë ¥í•˜ê¸°
        </button>


        <div id="resultsContainer" class="results-container mt-8 hidden">
            <h2 class="results-title">íŒ¨í„´ë³„ ì ìˆ˜ ê²°ê³¼</h2>
            <div id="coldPatternScore" class="score-item"></div>
            <div id="qiBloodDeficiencyScore" class="score-item"></div>
            <div id="qiStagnationScore" class="score-item"></div>
            <div id="bloodStasisScore" class="score-item"></div>
            <div id="dampPhlegmScore" class="score-item"></div>
            <div id="yinDeficiencyHeatScore" class="score-item"></div>
        </div>

        <div id="guideContainer" class="guide-container mt-8 hidden">
            <h2 class="guide-title">ë‚´ ëª¸ì„ ìœ„í•œ ë§ì¶¤ ê°€ì´ë“œ: ìê¶ì‚¬ìƒ(å­å®®å››è±¡) ì²´ì§ˆë³„ ì„­ìƒ ê°€ì´ë“œ</h2>
            <p class="mb-4">ì´ ê°€ì´ë“œëŠ” í™˜ìë¶„ì˜ 'ìê¶ì‚¬ìƒ' ì²´ì§ˆì— ë§ì¶° ê±´ê°•í•œ ìƒí™œ ìŠµê´€ì„ ì‹¤ì²œí•˜ì‹¤ ìˆ˜ ìˆë„ë¡ ë•ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ì•„ë˜ ë‚´ìš©ì„ ì°¸ê³ í•˜ì—¬ ì¼ìƒìƒí™œ ì†ì—ì„œ ê¾¸ì¤€íˆ ì‹¤ì²œí•´ ë³´ì„¸ìš”. ë‚´ ëª¸ì˜ ê¸ì •ì ì¸ ë³€í™”ë¥¼ ê²½í—˜í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            <div class="warning">âš ï¸ ì£¼ì˜: ì´ ë‚´ìš©ì€ ì¼ë°˜ì ì¸ ê¶Œì¥ ì‚¬í•­ì´ë©°, ê°œì¸ì˜ ìƒì„¸í•œ ìƒíƒœë‚˜ ë™ë°˜ ì§ˆí™˜ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë“œì‹œ ë‹´ë‹¹ í•œì˜ì‚¬ì˜ ì§€ë„ì— ë”°ë¼ ì‹¤ì²œí•´ ì£¼ì„¸ìš”.</div>

            <div id="myConstitutionResult" class="my-constitution hidden"></div>

            <div id="guideCold" class="guide-content hidden">
                <h3 class="text-2xl font-bold text-blue-600 mb-4">ğŸ’§ ëƒ‰ì²´ì§ˆ (å†·é«”è³ª) ì„­ìƒ ê°€ì´ë“œ</h3>
                <div class="guide-section">
                    <h4>1. ìŒì‹ (é£®é£Ÿ)</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ëª¸ì„ ë”°ëœ»í•˜ê²Œ ë°ì›Œì£¼ëŠ” ìŒì‹ì„ ë“œì„¸ìš” (ìƒê°•, ê³„í”¼, ë§ˆëŠ˜, ë¶€ì¶”, ë‹¨í˜¸ë°•, ë‹­ê³ ê¸° ë“±).</li>
                        <li>ë³¶ê±°ë‚˜ ë“ì´ëŠ” ë“± ìµíŒ ì¡°ë¦¬ë²•ì„ í™œìš©í•˜ê³ , ë”°ëœ»í•œ êµ­ë¬¼ì„ ê³ë“¤ì´ì„¸ìš”.</li>
                        <li>ë¬¼ì€ ìƒì˜¨ì´ë‚˜ ë”°ëœ»í•˜ê²Œ, ì°¨ëŠ” ì‘¥ì°¨ë‚˜ ìƒê°•ì°¨ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.</li>
                    </ul>
                    <p class="mt-2"><strong class="caution">ì£¼ì˜í•´ìš”:</strong></p>
                    <ul>
                        <li>ì°¬ ìŒì‹ê³¼ ìŒë£Œ(ì•„ì´ìŠ¤í¬ë¦¼, ëƒ‰ë©´, ë¹™ìˆ˜, ì°¬ë¬¼), ë‚ ìŒì‹(ìƒì„ íšŒ, ìƒì±„ì†Œ), ì„±ì§ˆì´ ì°¬ ì—¬ë¦„ ê³¼ì¼(ì°¸ì™¸, ìˆ˜ë°•)ì€ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</li>
                        <li>ë¼ì§€ê³ ê¸°ì™€ ë°€ê°€ë£¨ëŠ” ê³¼ë‹¤ ì„­ì·¨í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì„¸ìš”.</li>
                    </ul>
                </div>
                <div class="guide-section">
                    <h4>2. ìš´ë™ (é‹å‹•)</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>í–‡ë³•ì„ ì¬ë©° ê±·ê±°ë‚˜, ìš”ê°€(í•«ìš”ê°€ ì œì™¸), í•„ë¼í…ŒìŠ¤, ìŠ¤íŠ¸ë ˆì¹­ ë“± ë”°ëœ»í•˜ê³  ë¶€ë“œëŸ¬ìš´ ìš´ë™ì´ ì¢‹ìŠµë‹ˆë‹¤.</li>
                        <li>ìš´ë™ ì „í›„ ì¤€ë¹„ìš´ë™ê³¼ ë§ˆë¬´ë¦¬ ìš´ë™ì€ í•„ìˆ˜ì´ë©°, í•­ìƒ ëª¸ì„ ë”°ëœ»í•˜ê²Œ ìœ ì§€í•˜ì„¸ìš”.</li>
                    </ul>
                    <p class="mt-2"><strong class="caution">ì£¼ì˜í•´ìš”:</strong></p>
                    <ul>
                        <li>ì°¬ë¬¼ ìˆ˜ì˜ì´ë‚˜ ì¶”ìš´ ë‚  ì•¼ì™¸ ìš´ë™ ì‹œì—ëŠ” ë³´ì˜¨ì— ê°ë³„íˆ ì‹ ê²½ ì¨ì•¼ í•©ë‹ˆë‹¤.</li>
                        <li>ë„ˆë¬´ ê²©ë ¬í•œ ìš´ë™ì€ í”¼í•˜ì„¸ìš”.</li>
                    </ul>
                </div>
                   <div class="guide-section">
                    <h4>3. ìƒí™œìŠµê´€</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ë³´ì˜¨ì´ í•µì‹¬ì…ë‹ˆë‹¤. í•­ìƒ ì•„ë«ë°°, ë°œ, í—ˆë¦¬ë¥¼ ë”°ëœ»í•˜ê²Œ ìœ ì§€í•˜ì„¸ìš” (ë³µëŒ€, ì–‘ë§, ì°œì§ˆ, í•«íŒ© í™œìš©).</li>
                        <li>ë”°ëœ»í•œ ë¬¼ë¡œ ë°˜ì‹ ìš•ì´ë‚˜ ì¡±ìš•ì„ ì¦ê¸°ì„¸ìš”.</li>
                    </ul>
                    <p class="mt-2"><strong class="caution">ì£¼ì˜í•´ìš”:</strong></p>
                    <ul>
                       <li>ì°¬ ë°”ë‹¥ì´ë‚˜ ì°¬ë¬¼ ì ‘ì´‰ì„ í”¼í•˜ì„¸ìš”.</li>
                    </ul>
                </div>
                   <div class="guide-section">
                    <h4>4. ìˆ˜ë©´ (ç¡çœ )</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ì¼ì°, ì¶©ë¶„íˆ, ë”°ëœ»í•˜ê²Œ ìëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</li>
                        <li>ë°¤ 11ì‹œ ì´ì „ì— ì ìë¦¬ì— ë“¤ì–´ ìµœì†Œ 7ì‹œê°„ ì´ìƒ ì£¼ë¬´ì‹œê³ , ë‘êº¼ìš´ ì´ë¶ˆì´ë‚˜ ìˆ˜ë©´ ì–‘ë§ì„ í™œìš©í•´ ë”°ëœ»í•œ ì ìë¦¬ë¥¼ ë§Œë“œì„¸ìš”.</li>
                    </ul>
                </div>
            </div>

            <div id="guideDamp" class="guide-content hidden">
                <h3 class="text-2xl font-bold text-green-600 mb-4">ğŸŒ¿ ìŠµì²´ì§ˆ (æ¿•é«”è³ª) ì„­ìƒ ê°€ì´ë“œ</h3>
                   <div class="guide-section">
                    <h4>1. ìŒì‹ (é£®é£Ÿ)</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ëª¸ì† ìŠµê¸°ë¥¼ ì œê±°í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ìŒì‹ì„ ë“œì„¸ìš” (ìœ¨ë¬´, íŒ¥, ì˜¥ìˆ˜ìˆ˜ìˆ˜ì—¼ì°¨, ë…¹ë‘, ë™ê³¼, ë¯¸ì—­, ë‹¤ì‹œë§ˆ ë“±).</li>
                        <li>í°ì‚´ ìƒì„ , ë‘ë¶€ì²˜ëŸ¼ ë‹´ë°±í•˜ê³  ì†Œí™”ê°€ ì˜ë˜ëŠ” ìŒì‹ì„ ì„ íƒí•˜ê³ , ì–‘ë°°ì¶”, ë¸Œë¡œì½œë¦¬ ë“± ì„¬ìœ ì§ˆì´ í’ë¶€í•œ ì±„ì†Œë¥¼ ì¶©ë¶„íˆ ì„­ì·¨í•˜ì„¸ìš”.</li>
                    </ul>
                    <p class="mt-2"><strong class="caution">ì£¼ì˜í•´ìš”:</strong></p>
                    <ul>
                        <li>ê¸°ë¦„ì§„ ìŒì‹, íŠ€ê¹€, ì¸ìŠ¤í„´íŠ¸ì‹í’ˆì€ ìŠµê¸°ë¥¼ ë”í•©ë‹ˆë‹¤.</li>
                        <li>ë‹¨ ìŒì‹, ì„¤íƒ•, ìœ ì œí’ˆ(ìš°ìœ , ì¹˜ì¦ˆ), ë°€ê°€ë£¨ ìŒì‹(ë¹µ, ë–¡)ê³¼ ê³¼ë„í•œ íƒ„ìˆ˜í™”ë¬¼ ì„­ì·¨ë¥¼ ì¤„ì´ì„¸ìš”.</li>
                        <li>ìŒì£¼, ì•¼ì‹, ê³¼ì‹ì€ í”¼í•´ì•¼ í•©ë‹ˆë‹¤.</li>
                    </ul>
                </div>
                <div class="guide-section">
                    <h4>2. ìš´ë™ (é‹å‹•)</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ì¡°ê¹…, ë“±ì‚°, ì—ì–´ë¡œë¹…, ìì „ê±° íƒ€ê¸° ë“± ë•€ì„ ì ë‹¹íˆ ë‚¼ ìˆ˜ ìˆëŠ” ìœ ì‚°ì†Œ ìš´ë™ì„ ê¾¸ì¤€íˆ, ê·œì¹™ì ìœ¼ë¡œ(ì£¼ 3íšŒ ì´ìƒ) í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</li>
                    </ul>
                    <p class="mt-2"><strong class="caution">ì£¼ì˜í•´ìš”:</strong></p>
                    <ul>
                        <li>ë„ˆë¬´ ìŠµí•œ í™˜ê²½ì—ì„œ ìš´ë™í•˜ê±°ë‚˜, ë•€ì„ ë„ˆë¬´ ë§ì´ ë‚´ëŠ” ì‚¬ìš°ë‚˜ëŠ” í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</li>
                    </ul>
                </div>
                   <div class="guide-section">
                    <h4>3. ìƒí™œìŠµê´€</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ê±´ì¡°í•˜ê³  ì¾Œì í•œ í™˜ê²½ì„ ìœ ì§€í•˜ì„¸ìš”. ì œìŠµê¸°ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ìì£¼ í™˜ê¸°í•˜ê³ , ë•€ í˜ë¦° í›„ì—ëŠ” ë°”ë¡œ ë‹¦ê³  ì˜·ì„ ê°ˆì•„ì…ìœ¼ì„¸ìš”.</li>
                        <li>í†µí’ ì˜ë˜ëŠ” ë©´ ì†Œì¬ ì˜·ì„ ì…ê³ , ê·œì¹™ì ì¸ ë°°ë³€ ìŠµê´€ì„ ë“¤ì´ì„¸ìš”.</li>
                    </ul>
                </div>
                   <div class="guide-section">
                    <h4>4. ìˆ˜ë©´ (ç¡çœ )</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ì ì • ì‹œê°„ì„ ìê³  ì¾Œì í•œ í™˜ê²½ì„ ìœ ì§€í•˜ì„¸ìš”. 7~8ì‹œê°„ ì •ë„ê°€ ì ë‹¹í•©ë‹ˆë‹¤.</li>
                        <li>ì¹¨êµ¬ëŠ” ìì£¼ í™˜ê¸°í•˜ê³  í–‡ë³•ì— ë§ë ¤ ê±´ì¡°í•˜ê²Œ ìœ ì§€í•˜ì„¸ìš”.</li>
                    </ul>
                    <p class="mt-2"><strong class="caution">ì£¼ì˜í•´ìš”:</strong></p>
                    <ul>
                       <li>ë„ˆë¬´ ì˜¤ë˜ ìëŠ” ê²ƒì€ ì˜¤íˆë ¤ ìŠµê¸°ë¥¼ ì¡°ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                    </ul>
                </div>
            </div>

            <div id="guideBlood" class="guide-content hidden">
                <h3 class="text-2xl font-bold text-red-600 mb-4">â¤ï¸ í˜ˆì²´ì§ˆ (è¡€é«”è³ª) ì„­ìƒ ê°€ì´ë“œ</h3>
                <div class="guide-section">
                    <h4>1. ìŒì‹ (é£®é£Ÿ)</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>í˜ˆì•¡ ìƒì„±ê³¼ ìˆœí™˜ì„ ë•ëŠ” ìŒì‹ì„ ë“œì„¸ìš” (ì‹œê¸ˆì¹˜, ê¹»ì, ë¹„íŠ¸, ë‹¹ê·¼, ê²€ì€ì½©, ê²€ì€ê¹¨, ì†Œê³ ê¸°, ê³„ë€ ë…¸ë¥¸ì, êµ´, ì „ë³µ, ë¯¸ì—­, ë‹¤ì‹œë§ˆ, í†³ ë“±).</li>
                        <li>í˜ˆì•¡ ìˆœí™˜ì„ ìœ„í•´ ìƒê°•, ìš¸ê¸ˆ, ì–‘íŒŒ, ë¯¸ë‚˜ë¦¬ ë“±ì„ ê³ë“¤ì´ê³ , í˜¸ë‘ë‚˜ ì£ ê°™ì€ ê²¬ê³¼ë¥˜ë„ ì ë‹¹ëŸ‰ ì„­ì·¨í•˜ì„¸ìš”.</li>
                    </ul>
                    <p class="mt-2"><strong class="caution">ì£¼ì˜í•´ìš”:</strong></p>
                    <ul>
                        <li>ë¬´ë¦¬í•œ ë‹¤ì´ì–´íŠ¸ë‚˜ í¸ì‹ì€ í˜ˆì•¡ ë¶€ì¡±ì„ ì‹¬í™”ì‹œí‚µë‹ˆë‹¤.</li>
                        <li>ì¸ìŠ¤í„´íŠ¸, ê°€ê³µì‹í’ˆ, íƒ„ì‚°ìŒë£Œë¥¼ ì¤„ì´ê³ , ê³¼ë„í•œ ì¹´í˜ì¸ ì„­ì·¨(ì»¤í”¼, ë…¹ì°¨)ëŠ” í”¼í•˜ì„¸ìš”.</li>
                        <li>ë§µê³  ìê·¹ì ì¸ ìŒì‹ê³¼ ì°¬ ìŒì‹ì€ í˜ˆì•¡ ìˆœí™˜ì„ ë°©í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                    </ul>
                </div>
                <div class="guide-section">
                    <h4>2. ìš´ë™ (é‹å‹•)</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ê±·ê¸°, ìš”ê°€, íƒ€ì´ì¹˜, ê°€ë²¼ìš´ ì¡°ê¹… ë“± ê·œì¹™ì ì´ë©´ì„œë„ ë¬´ë¦¬í•˜ì§€ ì•ŠëŠ” ìš´ë™ì´ ì¢‹ìŠµë‹ˆë‹¤.</li>
                        <li>íŠ¹íˆ ê³¨ë°˜ê³¼ í•˜ì²´ ìœ„ì£¼ì˜ ìŠ¤íŠ¸ë ˆì¹­ì€ í˜ˆì•¡ ìˆœí™˜ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.</li>
                    </ul>
                    <p class="mt-2"><strong class="caution">ì£¼ì˜í•´ìš”:</strong></p>
                    <ul>
                        <li>ê³¼ê²©í•˜ê±°ë‚˜ ê²½ìŸì ì¸ ìš´ë™, ì¥ì‹œê°„ ìš´ë™ì€ í”¼í•˜ê³ , íŠ¹íˆ ìƒë¦¬ ì¤‘ì—ëŠ” ë¬´ë¦¬í•˜ì§€ ë§ˆì„¸ìš”.</li>
                    </ul>
                </div>
                   <div class="guide-section">
                    <h4>3. ìƒí™œìŠµê´€</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ê·œì¹™ì ì¸ ìƒí™œ ë¦¬ë“¬ì„ ìœ ì§€í•˜ì„¸ìš”. ì‹ì‚¬ì™€ ìˆ˜ë©´ ì‹œê°„ì„ ì¼ì •í•˜ê²Œ í•˜ê³ , ìŠ¤ë§ˆíŠ¸í°ì´ë‚˜ PC ì‚¬ìš©ì„ ì¤„ì—¬ ëˆˆì˜ í”¼ë¡œë¥¼ ë”ì„¸ìš”.</li>
                        <li>ê¸ì •ì ì¸ ë§ˆìŒìœ¼ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ê´€ë¦¬í•˜ê³ , ìƒë¦¬ ì¤‘ì—ëŠ” ë”°ëœ»í•œ ì°œì§ˆê³¼ íœ´ì‹ì„ ì·¨í•˜ì„¸ìš”.</li>
                    </ul>
                </div>
                   <div class="guide-section">
                    <h4>4. ìˆ˜ë©´ (ç¡çœ )</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ì§ˆ ë†’ì€ ìˆ˜ë©´, íŠ¹íˆ ë°¤ 11ì‹œë¶€í„° ìƒˆë²½ 3ì‹œ ì‚¬ì´ì˜ ìˆ™ë©´ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</li>
                        <li>ì´ ì‹œê°„ì€ í˜ˆì•¡ì´ ìƒì„±ë˜ê³  íšŒë³µë˜ëŠ” ì¤‘ìš”í•œ ì‹œê°„ì´ë¯€ë¡œ, ì ë“¤ê¸° ì „ ìŠ¤ë§ˆíŠ¸í° ì‚¬ìš©ì´ë‚˜ ì¹´í˜ì¸ ìŒë£Œ ì„­ì·¨ëŠ” í”¼í•˜ì„¸ìš”.</li>
                    </ul>
                </div>
            </div>

            <div id="guideQi" class="guide-content hidden">
                   <h3 class="text-2xl font-bold text-orange-600 mb-4">ğŸ’¨ ê¸°ì²´ì§ˆ (æ°£é«”è³ª) ì„­ìƒ ê°€ì´ë“œ</h3>
                   <div class="guide-section">
                    <h4>1. ìŒì‹ (é£®é£Ÿ)</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ê¸°ìš´ ì†Œí†µì„ ë•ê±°ë‚˜(ë¬´, ê·¤ê»ì§ˆ, ë¯¼íŠ¸, ììŠ¤ë¯¼, ë¡œì¦ˆë§ˆë¦¬, ì‘¥ê°“), ì§„ì•¡ì„ ë³´ì¶©í•˜ëŠ”(ë°°, ì—°ê·¼, ë§ˆ, ê¿€, í°ëª©ì´ë²„ì„¯, ë‘ë¶€, ì˜¤ì´) ìŒì‹ì„ ë“œì„¸ìš”.</li>
                        <li>ì‹ ì„ í•œ ì±„ì†Œì™€ ê³¼ì¼ì„ ì¦ê¸°ê³ , ë§‘ì€ êµ­ë¬¼ì´ë‚˜ ë¶€ë“œëŸ¬ìš´ ìŒì‹ì´ ì¢‹ìŠµë‹ˆë‹¤.</li>
                    </ul>
                    <p class="mt-2"><strong class="caution">ì£¼ì˜í•´ìš”:</strong></p>
                    <ul>
                        <li>ë§µê³  ìê·¹ì ì¸ ìŒì‹ì´ë‚˜ í–¥ì‹ ë£Œ ê³¼ë‹¤ëŠ” ê¸°ìš´ì„ ì†Œëª¨í•˜ê±°ë‚˜ ì—´ì„ ì¡°ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                        <li>ê³¼ë„í•œ ì¹´í˜ì¸ê³¼ ìŒì£¼ë¥¼ í”¼í•˜ê³ , ë¶ˆê·œì¹™í•œ ì‹ì‚¬, ê³¼ì‹, í­ì‹ì€ ê¸°ì˜ íë¦„ì„ ë°©í•´í•©ë‹ˆë‹¤.</li>
                        <li>ê±´ì¡°í•œ ìŒì‹(ë§ˆë¥¸ ë°˜ì°¬, íŠ€ê°)ì€ ì§„ì•¡ ë¶€ì¡±ì„ ì‹¬í™”ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                    </ul>
                </div>
                <div class="guide-section">
                    <h4>2. ìš´ë™ (é‹å‹•)</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ëª…ìƒ, ì´ì™„ ìš”ê°€, ìì—° ì† ê±·ê¸°, íƒ€ì´ì¹˜ ë“± ë§ˆìŒì„ í¸ì•ˆí•˜ê²Œ í•˜ëŠ” ìš´ë™ì´ ì¢‹ìŠµë‹ˆë‹¤.</li>
                        <li>ë¶€ë“œëŸ¬ìš´ ìŠ¤íŠ¸ë ˆì¹­ê³¼ ì‹¬í˜¸í¡ë„ ë„ì›€ì´ ë©ë‹ˆë‹¤.</li>
                    </ul>
                    <p class="mt-2"><strong class="caution">ì£¼ì˜í•´ìš”:</strong></p>
                    <ul>
                        <li>ë•€ì„ ë„ˆë¬´ ë§ì´ ë‚´ëŠ” ìš´ë™ì€ ì§„ì•¡ ë¶€ì¡±ì„ ì‹¬í™”ì‹œí‚¬ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ê³ , ë„ˆë¬´ ê²©ë ¬í•˜ê±°ë‚˜ ê²½ìŸì ì¸ ìš´ë™ì€ í”¼í•˜ì„¸ìš”.</li>
                    </ul>
                </div>
                   <div class="guide-section">
                    <h4>3. ìƒí™œìŠµê´€</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. ëª…ìƒ, ì·¨ë¯¸ í™œë™, ì‹¬í˜¸í¡, ëŒ€í™” ë“±ì„ í†µí•´ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ í•´ì†Œí•˜ì„¸ìš”.</li>
                        <li>ê¸ì •ì ì¸ ìƒê°ì„ í•˜ê³  ê°ì •ì„ ê±´ê°•í•˜ê²Œ í‘œí˜„í•˜ëŠ” ì—°ìŠµì„ í•˜ì„¸ìš”.</li>
                        <li>ë¯¸ì§€ê·¼í•œ ë¬¼ì„ ìì£¼ ë§ˆì‹œê³ , ê°€ìŠµê¸° ë“±ì„ ì´ìš©í•´ ì‹¤ë‚´ ìŠµë„ë¥¼ ì¡°ì ˆí•˜ì„¸ìš”.</li>
                    </ul>
                </div>
                   <div class="guide-section">
                    <h4>4. ìˆ˜ë©´ (ç¡çœ )</h4>
                    <p><strong class="recommend">ì¶”ì²œí•´ìš”:</strong></p>
                    <ul>
                        <li>ê·œì¹™ì ì¸ ìˆ˜ë©´ ìŠµê´€ì„ ë“¤ì´ê³  í¸ì•ˆí•œ í™˜ê²½ì„ ë§Œë“œì„¸ìš”. ì¼ì •í•œ ì‹œê°„ì— ìê³  ì¼ì–´ë‚˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</li>
                        <li>ì ë“¤ê¸° ì „ ëª…ìƒì´ë‚˜ ì´ì™„ ìš”ë²•ì„ ì‹œë„í•˜ê³ , ì¡°ìš©í•˜ê³  ì–´ë‘ìš´ í™˜ê²½ì„ ì¡°ì„±í•˜ì„¸ìš”.</li>
                    </ul>
                </div>
            </div>

            <p class="mt-8 text-center text-lg font-semibold text-teal-700">âœ¨ ë‚˜ì˜ ëª¸ì„ ì•„ë¼ê³  ëŒë³´ëŠ” ìŠµê´€, ê±´ê°•í•œ ìê¶ê³¼ í–‰ë³µí•œ ì‚¶ì˜ ì‹œì‘ì…ë‹ˆë‹¤. ê¶ê¸ˆí•œ ì ì€ ì–¸ì œë“ ì§€ ë¬¸ì˜í•´ ì£¼ì„¸ìš”! âœ¨</p>
        </div>

    <footer class="text-center text-gray-500 text-sm mt-8 pt-4 border-t border-gray-200">
        <p>ê¸¸ìŒí•œì˜ì› | ì„œìš¸ì‹œ ì„±ë¶êµ¬ ê¸¸ìŒë¡œ 10, 2ì¸µ</p>
        <p>ì „í™”: 02-943-1668 | ì›¹ì‚¬ì´íŠ¸: <a href="https://goodnewshani.my.canva.site/" target="_blank" class="text-teal-600 hover:underline">goodnewshani.my.canva.site</a></p>
        <p>Copyright Â© 2025 ê¸¸ìŒí•œì˜ì›. All rights reserved.</p>
    </footer>
    </div> <script>
        const symptoms = [
            { id: "s1", text: "1. ì†ë°œì´ ëŠ˜ ì°¨ê°‘ë‹¤." }, { id: "s2", text: "2. ìƒë¦¬í†µì´ ì‹¬í•˜ë‹¤." },
            { id: "s3", text: "3. ì–¼êµ´ì´ë‚˜ ëª¸ì— ì—¬ë“œë¦„ ë“± í”¼ë¶€ íŠ¸ëŸ¬ë¸”ì´ ì˜ ìƒê¸´ë‹¤." }, { id: "s4", text: "4. ì•‰ì•˜ë‹¤ ì¼ì–´ì„¤ ë•Œ ì–´ì§€ëŸ½ë‹¤." },
            { id: "s5", text: "5. ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë§ì´ ë°›ê³  ì˜ˆë¯¼í•œ í¸ì´ë‹¤." }, { id: "s6", text: "6. ìƒë¦¬ ì–‘ì´ ì ê³  ê¸°ê°„ì´ ì§§ë‹¤." },
            { id: "s7", text: "7. ìƒë¦¬í˜ˆì— ë©ì–´ë¦¬ê°€ ë§ë‹¤." }, { id: "s8", text: "8. ì¶”ìœ„ë¥¼ ë‹¤ë¥¸ ì‚¬ëŒë³´ë‹¤ ë§ì´ íƒ„ë‹¤." },
            { id: "s9", text: "9. ì§ˆì—¼ì´ë‚˜ ë°©ê´‘ì—¼ì— ìì£¼ ê±¸ë¦°ë‹¤." }, { id: "s10", text: "10. ë¨¸ë¦¬ì¹´ë½ì´ ê°€ëŠ˜ì–´ì§€ê³  ì˜ ë¹ ì§„ë‹¤." },
            { id: "s11", text: "11. ì´ìœ  ì—†ì´ í•œìˆ¨ì„ ìì£¼ ì‰°ë‹¤." }, { id: "s12", text: "12. í”¼ë¶€ë‚˜ ì…, ëˆˆì´ ê±´ì¡°í•˜ë‹¤." },
            { id: "s13", text: "13. ìƒë¦¬ ì „ì— ê°€ìŠ´ í†µì¦, í—ˆë¦¬ í†µì¦ ë“± ì¦ìƒì´ ì‹¬í•˜ë‹¤." }, { id: "s14", text: "14. ëª¸ì´ ì „ì²´ì ìœ¼ë¡œ ë¬´ê²ê³  ì°Œë¿Œë‘¥í•˜ë‹¤." },
            { id: "s15", text: "15. ì‰½ê²Œ í”¼ë¡œí•˜ê³  ê¸°ìš´ì´ ì—†ëŠ” í¸ì´ë‹¤." }, { id: "s16", text: "16. ìƒë¦¬ ì£¼ê¸°ê°€ ëŠ¦ì–´ì§€ê±°ë‚˜ ê±´ë„ˆë›´ë‹¤." },
            { id: "s17", text: "17. ëª¸ì´ ì˜ ë¶“ê³ , íŠ¹íˆ ë‹¤ë¦¬ê°€ ë¬´ê²ë‹¤." }, { id: "s18", text: "18. ì§ˆ ê±´ì¡°ê°ì„ ëŠë¼ê±°ë‚˜ ê´€ê³„ ì‹œ ë¶ˆí¸í•˜ë‹¤." },
            { id: "s19", text: "19. ì†Œí™”ê°€ ì˜ ì•ˆë˜ê³ , ë¬½ì€ ë³€/ì„¤ì‚¬ë¥¼ ìì£¼ í•œë‹¤." }, { id: "s20", text: "20. ëƒ‰(ë¶„ë¹„ë¬¼)ì—ì„œ ëƒ„ìƒˆê°€ ë‚˜ê±°ë‚˜ ìƒ‰ì´ ë…¸ë—ë‹¤." },
            { id: "s21", text: "21. ì–¼êµ´ìƒ‰ì´ ì°½ë°±í•˜ê±°ë‚˜ ëˆ„ë ‡ë‹¤ëŠ” ë§ì„ ë“£ëŠ”ë‹¤." }, { id: "s22", text: "22. ì–¼êµ´ì´ë‚˜ ê°€ìŠ´ìœ¼ë¡œ ì—´ì´ ì˜¤ë¥´ê³  ë‹µë‹µí•˜ë‹¤." },
            { id: "s23", text: "23. ì•„ë«ë°°ê°€ ì°¨ê°‘ê²Œ ëŠê»´ì§ˆ ë•Œê°€ ë§ë‹¤." }, { id: "s24", text: "24. ìƒë¦¬í˜ˆ ìƒ‰ì´ ê²€ë¶‰ì€ í¸ì´ë‹¤." },
            { id: "s25", text: "25. ê°€ë˜ê°€ ì˜ ë“ê±°ë‚˜ ì†ì´ ë©”ìŠ¤ê»ë‹¤." }, { id: "s26", text: "26. ì†ë°œí†±ì´ ì•½í•˜ê³  ì˜ ë¶€ì„œì§„ë‹¤." },
            { id: "s27", text: "27. ë’·ëª©ì´ë‚˜ ì–´ê¹¨ê°€ í•­ìƒ ë­‰ì¹˜ê³  ì•„í”„ë‹¤." }, { id: "s28", text: "28. ë°¤ì— ì ë“¤ê¸° ì–´ë µê±°ë‚˜, ìë‹¤ê°€ ê¹¬ë‹¤." },
            { id: "s29", "text": "29. ë§‘ì€ ìƒ‰ì˜ ëƒ‰(ë¶„ë¹„ë¬¼)ì´ ë§ì€ í¸ì´ë‹¤." }, { id: "s30", text: "30. ì‚´ì´ ì˜ ì°Œê³ , íŠ¹íˆ ë¬¼ì‚´ì´ ë§ë‹¤ê³  ëŠë‚€ë‹¤." }
        ];

        const symptomToPattern = {
            s1: ["cold"], s2: ["stasis"], s3: ["heat"], s4: ["deficiency"], s5: ["stagnation"],
            s6: ["deficiency"], s7: ["stasis"], s8: ["cold"], s9: ["heat"], s10: ["deficiency"],
            s11: ["stagnation"], s12: ["heat"], s13: ["stagnation"], s14: ["damp"], s15: ["deficiency"],
            s16: ["deficiency"], s17: ["damp"], s18: ["heat"], s19: ["damp"], s20: ["heat"],
            s21: ["deficiency"], s22: ["heat"], s23: ["cold"], s24: ["stasis"], s25: ["damp"],
            s26: ["deficiency"], s27: ["stagnation"], s28: ["heat"], s29: ["damp"], s30: ["damp"]
        };

        const patternToConstitution = {
            cold: "guideCold", damp: "guideDamp", deficiency: "guideBlood", 
            stasis: "guideBlood", stagnation: "guideQi", heat: "guideQi"
        };
        
        const constitutionNames = {
            guideCold: "ëƒ‰ì²´ì§ˆ(å†·é«”è³ª)", guideDamp: "ìŠµì²´ì§ˆ(æ¿•é«”è³ª)",
            guideBlood: "í˜ˆì²´ì§ˆ(è¡€é«”è³ª)", guideQi: "ê¸°ì²´ì§ˆ(æ°£é«”è³ª)"
        };

        const symptomGridContainer = document.querySelector('.grid-container');
        symptoms.forEach(symptom => {
            const itemDiv = document.createElement('div');
            itemDiv.classList.add('question-item');
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox'; checkbox.id = symptom.id; checkbox.name = symptom.id; checkbox.value = symptom.id;
            const label = document.createElement('label');
            label.htmlFor = symptom.id; label.textContent = symptom.text;
            itemDiv.appendChild(checkbox); itemDiv.appendChild(label);
            symptomGridContainer.appendChild(itemDiv);
        });
        
        const resultsContainer = document.getElementById('resultsContainer');
        const guideContainer = document.getElementById('guideContainer');
        const myConstitutionResult = document.getElementById('myConstitutionResult');
        const allGuides = document.querySelectorAll('.guide-content');
        const printResultBtn = document.getElementById('printResultBtn'); 

        document.getElementById('healthChecklistForm').addEventListener('submit', function(event) {
            event.preventDefault(); 

            let patternScores = { cold: 0, deficiency: 0, stagnation: 0, stasis: 0, damp: 0, heat: 0 };
            let constitutionScores = { guideCold: 0, guideDamp: 0, guideBlood: 0, guideQi: 0 };
            let submissionData = {};

            submissionData.name = document.getElementById('name').value || '';
            submissionData.age = document.getElementById('ageInput').value || '';
            submissionData.date = document.getElementById('dateInput').value || '';

            let totalChecks = 0;
            symptoms.forEach(symptom => {
                const isChecked = document.getElementById(symptom.id).checked;
                submissionData[symptom.id] = isChecked ? 'Y' : 'N'; 
                if (isChecked) {
                    totalChecks++;
                    if (symptomToPattern[symptom.id]) {
                        symptomToPattern[symptom.id].forEach(pattern => {
                            patternScores[pattern]++;
                            const constitutionId = patternToConstitution[pattern];
                            constitutionScores[constitutionId]++;
                        });
                    }
                }
            });
            
            let maxScore = 0;
            let primaryConstitutionId = null;
            for (const [id, score] of Object.entries(constitutionScores)) {
                if (score > maxScore) { maxScore = score; primaryConstitutionId = id; }
            }
            let primaryConstitutionName = (primaryConstitutionId && maxScore > 0) ? constitutionNames[primaryConstitutionId] : '';

            // ì´ ì •ë³´ë¥¼ printResultBtn í´ë¦­ ì´ë²¤íŠ¸ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì „ì—­ ë³€ìˆ˜ë¡œ ì €ì¥í•©ë‹ˆë‹¤.
            window.primaryConstitutionIdForPrint = primaryConstitutionId; 
            window.maxScoreForPrint = maxScore;
            window.totalChecksForPrint = totalChecks;
            window.patternScoresForPrint = patternScores; // íŒ¨í„´ë³„ ì ìˆ˜ë„ ì „ì—­ ë³€ìˆ˜ë¡œ ì €ì¥í•˜ì—¬ ì¸ì‡„ì— í™œìš©
            window.patientNameForPrint = submissionData.name; // í™˜ì ì´ë¦„ë„ ì „ì—­ ë³€ìˆ˜ë¡œ ì €ì¥


            submissionData.coldScore = constitutionScores.guideCold;
            submissionData.dampScore = constitutionScores.guideDamp;
            submissionData.bloodScore = constitutionScores.guideBlood;
            submissionData.qiScore = constitutionScores.guideQi;
            submissionData.primaryConstitution = primaryConstitutionName;

            // ê²°ê³¼ ì ìˆ˜ í‘œì‹œ (ì´ ë¶€ë¶„ì€ í™”ë©´ì—ë§Œ í‘œì‹œë˜ê³ , ì¸ì‡„ëŠ” ì•„ë˜ printResultBtnì—ì„œ ë³„ë„ë¡œ êµ¬ì„±)
            resultsContainer.innerHTML = `
                <h2 class="results-title">íŒ¨í„´ë³„ ì ìˆ˜ ê²°ê³¼</h2>
                <div class="score-item">í•œì¦ (Cold): <span class="score-value">${patternScores.cold}</span></div>
                <div class="score-item">ê¸°í˜ˆí—ˆì•½ (Deficiency): <span class="score-value">${patternScores.deficiency}</span></div>
                <div class="score-item">ê¸°ì²´ (Stagnation): <span class="score-value">${patternScores.stagnation}</span></div>
                <div class="score-item">ì–´í˜ˆ (Stasis): <span class="score-value">${patternScores.stasis}</span></div>
                <div class="score-item">ìŠµë‹´ (Damp): <span class="score-value">${patternScores.damp}</span></div>
                <div class="score-item">ìŒí—ˆ/ì—´ (Heat): <span class="score-value">${patternScores.heat}</span></div>
            `;
            resultsContainer.classList.remove('hidden');

            // ëª¨ë“  ê°€ì´ë“œ ìˆ¨ê¸°ê¸°
            allGuides.forEach(el => el.classList.add('hidden'));
            myConstitutionResult.classList.add('hidden');

            // í™”ë©´ì— í‘œì‹œë  'ë‚˜ì˜ ì£¼ìš” ì²´ì§ˆ ê²½í–¥ì„±' ì—…ë°ì´íŠ¸
            let patientNameDisplay = submissionData.name.trim() !== '' ? submissionData.name + 'ë‹˜' : '(      )ë‹˜';
            if (totalChecks === 0) {
                 myConstitutionResult.innerHTML = "ì¦ìƒì„ ì„ íƒí•´ì£¼ì„¸ìš”.";
                 myConstitutionResult.classList.remove('hidden');
            } else if (primaryConstitutionId && maxScore > 0) { 
                document.getElementById(primaryConstitutionId).classList.remove('hidden');
                myConstitutionResult.innerHTML = `${patientNameDisplay}ì˜ ì£¼ìš” ì²´ì§ˆ ê²½í–¥ì„±ì€ <span class="text-teal-700">${constitutionNames[primaryConstitutionId]}</span> ì…ë‹ˆë‹¤.`;
                myConstitutionResult.classList.remove('hidden');
            } else {
                 myConstitutionResult.innerHTML = "ì²´ì§ˆì„ íŒë‹¨í•˜ê¸° ìœ„í•œ ì •ë³´ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.";
                 myConstitutionResult.classList.remove('hidden');
            }

            guideContainer.classList.remove('hidden');
            guideContainer.scrollIntoView({ behavior: 'smooth' });

            // ê²°ê³¼ê°€ ë‚˜íƒ€ë‚œ í›„ì— ì¶œë ¥ ë²„íŠ¼ì„ ë³´ì´ê²Œ í•©ë‹ˆë‹¤.
            printResultBtn.classList.remove('hidden');


            // *** âœ¨ Google Apps Scriptë¡œ ë°ì´í„° ì „ì†¡ âœ¨ ***
            const gasUrl = 'https://script.google.com/macros/s/AKfycbzaz99M4OAdLiJ39D_IkzYsWUDvH3Tlx0aqUc1eN9WxJu1apNrBP5JDbAr_BzfESYf5/exec'; 

            if (gasUrl.startsWith('âš ï¸')) {
                console.warn("Google Apps Script URLì´ ì„¤ì •ë˜ì§€ ì•Šì•„ ë°ì´í„°ë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                return; 
            }

            fetch(gasUrl, {
                method: 'POST',
                mode: 'no-cors', 
                cache: 'no-cache',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(submissionData),
                redirect: 'follow'
            })
            .then(() => {
                console.log("ë°ì´í„° ì „ì†¡ ì‹œë„ ì™„ë£Œ."); 
                alert('ì„¤ë¬¸ ê²°ê³¼ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!'); 
            })
            .catch((error) => {
                console.error('Error:', error);
                alert('ë°ì´í„° ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            });
        });

        printResultBtn.addEventListener('click', function() {
            const printWindow = window.open('', '', 'height=700,width=900');
            
            // ì¸ì‡„ ì°½ì˜ <head>ì— í•„ìš”í•œ ìŠ¤íƒ€ì¼ê³¼ Tailwind CSS ë¡œë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
            printWindow.document.write('<html><head><title>ê¸¸ìŒí•œì˜ì› ìê¶ì²´ì§ˆ ìê°€ë¬¸ì§„í‘œ ê²°ê³¼</title>');
            printWindow.document.write('<link href="https://cdn.tailwindcss.com" rel="stylesheet">'); 
            printWindow.document.write('<style>');
            printWindow.document.write(`
                body { font-family: 'Inter', sans-serif; margin: 0; padding: 0; background-color: #fff; }
                .results-container, .guide-container {
                    margin-bottom: 1.5rem; padding: 1.5rem; border: 1px solid #e2e8f0; border-radius: 0.5rem; background-color: #f9fafb;
                    box-shadow: none; border: none; /* ì¸ì‡„ ì‹œ ì™¸ê³½ì„  ë° ë°°ê²½ìƒ‰ ì œê±° */
                }
                .question-title, .results-title, .guide-title { font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #1f2937; }
                .score-item { margin-bottom: 0.5rem; }
                .score-value { font-weight: 600; }
                .guide-section { margin-bottom: 1.5rem; border-bottom: 1px dashed #d1d5db; padding-bottom: 1.5rem; page-break-inside: avoid; }
                .guide-section:last-child { border-bottom: none; padding-bottom: 0; }
                .guide-section h4 { font-size: 1.1rem; font-weight: 600; color: #0d9488; margin-bottom: 0.5rem; }
                .guide-section .recommend { color: #10b981; }
                .guide-section .caution { color: #ef4444; }
                .guide-section ul { list-style: disc; margin-left: 1.5rem; }
                .warning { background-color: #fffbeb; border-left: 4px solid #f59e0b; padding: 1rem; margin-bottom: 1rem; font-size: 0.9rem; color: #b45309; }
                .my-constitution { font-size: 1.5rem; font-weight: 700; text-align: center; margin-bottom: 1.5rem; padding: 1rem; background-color: #ecfdf5; color: #065f46; border-radius: 0.5rem; }
                
                /* ì¸ì‡„ ì „ìš© ìŠ¤íƒ€ì¼: ì…ë ¥ í¼, ë²„íŠ¼ì€ ìˆ¨ê¹€ */
                .question-group, form button, #printResultBtn { display: none !important; }
                
                /* printable-area ìì²´ì˜ ìŠ¤íƒ€ì¼ì„ ì¸ì‡„ì— ë§ê²Œ ì¡°ì • (shadow, border ì œê±°) */
                /* ìƒˆ ì°½ì—ì„œëŠ” ì´ ë¶€ë¶„ì´ ì „ì²´ ë ˆì´ì•„ì›ƒì„ ë‹´ë‹¹í•˜ë¯€ë¡œ ë„ˆë¹„ì™€ ë§ˆì§„ì„ ìœ ì§€ */
                .printable-area {
                    max-width: 768px; 
                    margin: 2rem auto; 
                    padding: 2rem;
                    box-shadow: none !important;
                    border: none !important;
                    background-color: #fff !important;
                }

                /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ ì¶”ê°€ (print ë¯¸ë””ì–´ ì¿¼ë¦¬ ì•ˆì— ìˆì–´ì•¼ ì¸ì‡„ ì‹œ ì ìš©) */
                table {
                    width: 100%;
                    border-collapse: collapse;
                    margin-top: 1rem;
                    margin-bottom: 1rem;
                    table-layout: fixed; /* ê³ ì • í…Œì´ë¸” ë ˆì´ì•„ì›ƒ */
                }
                th, td {
                    border: 1px solid #ccc;
                    padding: 0.75rem;
                    text-align: left;
                    vertical-align: top;
                }
                th {
                    background-color: #f2f2f2;
                    font-weight: 600;
                    width: 50%; /* ë‘ ì—´ì˜ ë„ˆë¹„ë¥¼ ê· ë“±í•˜ê²Œ ë‚˜ëˆ” */
                }
                .pattern-name { width: 50%; }
                .pattern-score { width: 50%; text-align: center;} /* ì ìˆ˜ ì—´ì€ ì¤‘ì•™ ì •ë ¬ */

            `);
            printWindow.document.write('</style>');
            printWindow.document.write('</head><body>');
            
            // ì¸ì‡„í•  ë‚´ìš©ì„ ë‹´ì„ ì„ì‹œ div ìƒì„±
            const tempDiv = document.createElement('div');
            tempDiv.classList.add('printable-area'); 

            // 1. í—¤ë” (ë¡œê³ , ì œëª©, ê¸°ë³¸ ë¬¸êµ¬)ëŠ” í•­ìƒ í¬í•¨
            tempDiv.innerHTML += document.querySelector('.printable-area header').outerHTML;

            // 2. í™˜ì ê¸°ë³¸ ì •ë³´ (ì´ë¦„, ë‚˜ì´, ë‚ ì§œ)ë¥¼ ë³„ë„ë¡œ ì¶”ê°€
            const name = window.patientNameForPrint || ''; // ì „ì—­ ë³€ìˆ˜ì—ì„œ í™˜ì ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
            const age = document.getElementById('ageInput').value || 'ë¯¸ì…ë ¥';
            const date = document.getElementById('dateInput').value || 'ë¯¸ì…ë ¥';
            
            // í™˜ì ì´ë¦„ì´ ì…ë ¥ë˜ì—ˆëŠ”ì§€ì— ë”°ë¼ ì¶œë ¥ í˜•ì‹ ë³€ê²½
            const patientNameTitle = name.trim() !== '' ? `${name}ë‹˜ì˜ ì •ë³´` : `(      )ë‹˜ì˜ ì •ë³´`;

            tempDiv.innerHTML += `
                <div class="question-group" style="border: none; background-color: #fff; padding: 0 1.5rem;">
                    <h2 class="question-title" style="margin-bottom: 0.5rem;">${patientNameTitle}</h2>
                    <p class="mb-1"><strong>ë‚˜ì´:</strong> ${age}ì„¸</p>
                    <p><strong>ê²€ì‚¬ ë‚ ì§œ:</strong> ${date}</p>
                </div>
            `;

            // 3. íŒ¨í„´ë³„ ì ìˆ˜ ê²°ê³¼ (resultsContainer)ë¥¼ í‘œ í˜•ì‹ìœ¼ë¡œ êµ¬ì„±
            const patternScores = window.patternScoresForPrint; // ì „ì—­ ë³€ìˆ˜ì—ì„œ ì ìˆ˜ ê°€ì ¸ì˜¤ê¸°
            let scoreTableHtml = `
                <div class="results-container" style="border: none; background-color: #fff; padding: 0;">
                    <h2 class="results-title" style="margin-bottom: 0.5rem;">íŒ¨í„´ë³„ ì ìˆ˜ ê²°ê³¼</h2>
                    <table>
                        <thead>
                            <tr>
                                <th class="pattern-name">íŒ¨í„´</th>
                                <th class="pattern-score">ì ìˆ˜</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>í•œì¦ (Cold)</td>
                                <td class="pattern-score">${patternScores.cold}</td>
                            </tr>
                            <tr>
                                <td>ê¸°í˜ˆí—ˆì•½ (Deficiency)</td>
                                <td class="pattern-score">${patternScores.deficiency}</td>
                            </tr>
                            <tr>
                                <td>ê¸°ì²´ (Stagnation)</td>
                                <td class="pattern-score">${patternScores.stagnation}</td>
                            </tr>
                            <tr>
                                <td>ì–´í˜ˆ (Stasis)</td>
                                <td class="pattern-score">${patternScores.stasis}</td>
                            </tr>
                            <tr>
                                <td>ìŠµë‹´ (Damp)</td>
                                <td class="pattern-score">${patternScores.damp}</td>
                            </tr>
                            <tr>
                                <td>ìŒí—ˆ/ì—´ (Heat)</td>
                                <td class="pattern-score">${patternScores.heat}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            `;
            tempDiv.innerHTML += scoreTableHtml;

            // 4. 'ë‚˜ì˜ ì£¼ìš” ì²´ì§ˆ ê²½í–¥ì„±' ë¶€ë¶„ ìˆ˜ì • (í™˜ì ì´ë¦„ ë°˜ì˜)
            let primaryConstitutionName = (window.primaryConstitutionIdForPrint && window.maxScoreForPrint > 0) ? constitutionNames[window.primaryConstitutionIdForPrint] : '';
            let patientNameDisplayForConstitution = name.trim() !== '' ? name + 'ë‹˜' : '(      )ë‹˜';
            let constitutionResultText;

            if (window.totalChecksForPrint === 0) {
                constitutionResultText = "ì²´ì§ˆì„ íŒë‹¨í•˜ê¸° ìœ„í•œ ì¦ìƒì´ ì„ íƒë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.";
            } else if (primaryConstitutionName) {
                constitutionResultText = `${patientNameDisplayForConstitution}ì˜ ì£¼ìš” ì²´ì§ˆ ê²½í–¥ì„±ì€ <span style="color: #065f46;">${primaryConstitutionName}</span> ì…ë‹ˆë‹¤.`;
            } else {
                constitutionResultText = "ì²´ì§ˆì„ íŒë‹¨í•˜ê¸° ìœ„í•œ ì •ë³´ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.";
            }

            tempDiv.innerHTML += `
                <div class="my-constitution" style="font-size: 1.5rem; font-weight: 700; text-align: center; margin-top: 1.5rem; margin-bottom: 1.5rem; padding: 1rem; background-color: #ecfdf5; color: #065f46; border-radius: 0.5rem;">
                    ${constitutionResultText}
                </div>
            `;


            // 5. ì„ íƒëœ ì²´ì§ˆì˜ ì„­ìƒ ê°€ì´ë“œë§Œ ê°€ì ¸ì˜¤ê¸°
            if (window.primaryConstitutionIdForPrint && window.totalChecksForPrint > 0) {
                const selectedGuideElement = document.getElementById(window.primaryConstitutionIdForPrint);
                if (selectedGuideElement) {
                    tempDiv.innerHTML += `
                        <div class="guide-container" style="border: none; background-color: #fff; padding: 0;">
                            <h2 class="guide-title" style="font-size: 1.25rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; color: #1f2937;">ë‚´ ëª¸ì„ ìœ„í•œ ë§ì¶¤ ê°€ì´ë“œ: ìê¶ì‚¬ìƒ(å­å®®å››è±¡) ì²´ì§ˆë³„ ì„­ìƒ ê°€ì´ë“œ</h2>
                            <p class="mb-4">ì´ ê°€ì´ë“œëŠ” í™˜ìë¶„ì˜ 'ìê¶ì‚¬ìƒ' ì²´ì§ˆì— ë§ì¶° ê±´ê°•í•œ ìƒí™œ ìŠµê´€ì„ ì‹¤ì²œí•˜ì‹¤ ìˆ˜ ìˆë„ë¡ ë•ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ì•„ë˜ ë‚´ìš©ì„ ì°¸ê³ í•˜ì—¬ ì¼ìƒìƒí™œ ì†ì—ì„œ ê¾¸ì¤€íˆ ì‹¤ì²œí•´ ë³´ì„¸ìš”. ë‚´ ëª¸ì˜ ê¸ì •ì ì¸ ë³€í™”ë¥¼ ê²½í—˜í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                            <div class="warning">âš ï¸ ì£¼ì˜: ì´ ë‚´ìš©ì€ ì¼ë°˜ì ì¸ ê¶Œì¥ ì‚¬í•­ì´ë©°, ê°œì¸ì˜ ìƒì„¸í•œ ìƒíƒœë‚˜ ë™ë°˜ ì§ˆí™˜ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë“œì‹œ ë‹´ë‹¹ í•œì˜ì‚¬ì˜ ì§€ë„ì— ë”°ë¼ ì‹¤ì²œí•´ ì£¼ì„¸ìš”.</div>
                            ${selectedGuideElement.outerHTML}
                            <p class="mt-8 text-center text-lg font-semibold text-teal-700">âœ¨ ë‚˜ì˜ ëª¸ì„ ì•„ë¼ê³  ëŒë³´ëŠ” ìŠµê´€, ê±´ê°•í•œ ìê¶ê³¼ í–‰ë³µí•œ ì‚¶ì˜ ì‹œì‘ì…ë‹ˆë‹¤. ê¶ê¸ˆí•œ ì ì€ ì–¸ì œë“ ì§€ ë¬¸ì˜í•´ ì£¼ì„¸ìš”! âœ¨</p>
                        </div>
                    `;
                }
            } else {
                // ì„ íƒëœ ì²´ì§ˆì´ ì—†ê±°ë‚˜ ì²´í¬ëœ ì¦ìƒì´ ì—†ì„ ê²½ìš°ì˜ ë©”ì‹œì§€ë¥¼ ì¸ì‡„ë¬¼ì— ì¶”ê°€
                tempDiv.innerHTML += `
                    <div class="guide-container" style="border: none; background-color: #fff; padding: 0;">
                        <h2 class="guide-title" style="font-size: 1.25rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; color: #1f2937;">ë‚´ ëª¸ì„ ìœ„í•œ ë§ì¶¤ ê°€ì´ë“œ</h2>
                        <p class="text-center text-gray-600 mt-4 mb-4">ì²´ì§ˆì„ íŒë‹¨í•˜ê¸° ìœ„í•œ ì •ë³´ê°€ ë¶€ì¡±í•˜ê±°ë‚˜ ì„ íƒëœ ì¦ìƒì´ ì—†ìŠµë‹ˆë‹¤. ë” ìì„¸í•œ ìƒë‹´ì€ í•œì˜ì›ì— ë¬¸ì˜í•´ì£¼ì„¸ìš”.</p>
                        <p class="mt-8 text-center text-lg font-semibold text-teal-700">âœ¨ ë‚˜ì˜ ëª¸ì„ ì•„ë¼ê³  ëŒë³´ëŠ” ìŠµê´€, ê±´ê°•í•œ ìê¶ê³¼ í–‰ë³µí•œ ì‚¶ì˜ ì‹œì‘ì…ë‹ˆë‹¤. ê¶ê¸ˆí•œ ì ì€ ì–¸ì œë“ ì§€ ë¬¸ì˜í•´ ì£¼ì„¸ìš”! âœ¨</p>
                    </div>
                `;
            }

            // 6. í‘¸í„° (í•œì˜ì› ì •ë³´)ëŠ” í•­ìƒ í¬í•¨
            tempDiv.innerHTML += document.querySelector('.printable-area footer').outerHTML;


            printWindow.document.write(tempDiv.outerHTML); 
            printWindow.document.write('</body></html>');
            printWindow.document.close(); 

            printWindow.onload = function() {
                printWindow.focus(); 
                printWindow.print(); 
                printWindow.close(); 
            };
            printWindow.onerror = function() {
                console.error("Print window encountered an error, possibly image loading failure.");
                printWindow.focus();
                printWindow.print();
                printWindow.close();
            };
        });
    </script>
</body>
</html>